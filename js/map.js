var autoLocation = false;
var idLocation = null;

var _0x3c20 = ['hide', 'ukopani', '#form-gdpr', 'init', 'left', '\x22\x20\x20data-x=\x22', 'apply', 'userAgent', 'https:', 'Đakovo', 'removeClass', 'byLayer', 'pan', '<span\x20class=\x22search-graveyard-name\x20uk-margin-small-left\x22>', 'height', 'each', '\x20uk-icon=\x22info\x22></span>SAVJET:\x20Za\x20točnije\x20rezultate\x20koristite\x20dijakritičke\x20znakove\x20...\x20</div>', 'WGS84', '#app-modified\x20span', 'hidden', 'log', '.app-overlay', 'split', '#show-on-map-btn', 'floor', 'innerHTML', '<div\x20id=\x22form-info\x22\x20class=\x22info-box\x20uk-padding-small\x22>', 'done', 'toLocaleDateString', 'No\x20permission\x20to\x20get\x20geolocation.', 'projection', 'prototype', 'click', 'test', 'Color', 'width', 'clear', 'add', 'GRAVE_INFO_OPENED', '#form-name', 'exception', '#img-overlay', 'replace', '#oznaka', 'geolocation', '\x20\x20\x20\x20</div>', 'bottom-left', '#report-btn', '#contact-form', 'landing-img-', 'table', 'latitude', 'bounds', '<div\x20class=\x22uk-margin-bottom\x22>Nema\x20rezultata\x20...</div>', 'map', 'transform', 'console', 'getElementsByClassName', 'top', '#form-email', '__proto__', 'exposeJQuery', '<li\x20data-id=\x22', 'defs', 'toString', 'mail.php', 'hr-HR', 'oznaka', 'features', 'POST', '\x22\x20data-y=\x22', 'center', '#slika', 'removeAttr', 'accuracy', '#form-warning', 'while\x20(true)\x20{}', 'units', 'navigator', 'Molimo\x20popunite\x20sva\x20polja!', 'graphic', '#menu-sidepanel', 'NAVIGATION_OPENED', 'text', 'debu', '#faq-btn', 'Bounds', 'message', 'which', 'modal', 'function\x20*\x5c(\x20*\x5c)', '\x20\x20\x20\x20\x20\x20\x20\x20</a>', 'tools', 'MODAL_TUTORIAL_OPENED', 'wkt', 'Želite\x20li\x20zatvoriti\x20aplikaciju?', '.form-warning-text', 'cos', '\x20<div>', 'featureClick', 'highlightSelected', 'coords', 'ViewerSelection', 'pushState', '#search-bar', 'groblje\x20=\x20\x27', 'Došlo\x20je\x20do\x20greške\x20prilikom\x20slanja\x20poruke.\x20Molimo\x20pokušajte\x20kasnije!', 'Geolocation\x20request\x20timed\x20out.', '{}.constructor(\x22return\x20this\x22)(\x20)', '#form-submit-btn', '#tutorial-modal', 'keypress', 'length', '(ukopani\x20LIKE\x20\x27%', 'remove', 'activate', 'addClass', 'ukopani\x20LIKE\x20\x27%', 'Point', 'bind', '#tutorial-btn', 'lat', 'counter', '#impressum-modal', 'gger', '#search-btn', 'Proj', 'MODAL_REPORT_OPENED', 'SEARCH_LIST_POPULATED', 'lon', '<div\x20class=\x22info-box\x20uk-padding-small\x22><span\x20class=\x22uk-margin-small-right\x22', '\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>', 'selected', 'error', '</span>', 'placeholder', '\x20AND\x20groblje\x20=\x20\x27', 'constructor', '#report-modal', ':checked', '1326529', 'return\x20(function()\x20', '#menu-btn', 'html', '#form-id', 'bottom', 'circle', 'getResponse', 'string', '\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22form-info-text\x22>', 'byId', 'input', 'addEventListener', '</span></li>', 'toUpperCase', 'append', 'ready', 'href', 'getCurrentPosition', 'sin', 'js-godina', 'right', 'protocol', '\x20-\x20', 'MODAL_FAQ_OPENED', 'GraphicStyle', 'LonLat', 'call', '<br>', 'offcanvas', 'indexOf', '#back-btn', '#form', 'MSIE\x20', 'apiKey', '#btn-new-report', 'empty', 'd4b6551c6d756093b8fb3083d50636ff', 'modified', 'trace', 'includes', 'find', 'action', ':visible', '\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22slike/blank.jpg\x22\x20alt=\x22\x22>', '%\x27)', 'scale', 'layers', 'Error\x20acquiring\x20geolocation.', 'MODAL_IMPRESSUM_OPENED', 'geometry', '.locateme-button', '#impressum-btn', '.search-overlay', 'selectFeature', 'Error\x20acquiring\x20geolocation\x20(code:\x20', 'SEARCH_GRAVE_SELECTED', 'radi', 'data', 'preventDefault', 'util', 'GC_MAP_CURRENT', 'select', '\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20uk-icon=\x22icon:\x20info\x22\x20class=\x22uk-margin-small-right\x22></span>', 'featureId', 'stateObject', 'max', 'warn', 'val', 'show', 'attr', '#podaci', '\x20...', 'degrees', 'getFullYear', '#grave-info-sidepanel', 'chain', 'Viewer', '%\x27\x20OR\x20ukopani\x20LIKE\x20\x27%', 'code'];
(function (_0x3cda87, _0x1f93d7) {
  var _0x3c208c = function (_0x4ee333) {
    while (--_0x4ee333) {
      _0x3cda87['push'](_0x3cda87['shift']());
    }
  };
  _0x3c208c(++_0x1f93d7);
}(_0x3c20, 0x163));
var _0x4ee3 = function (_0x3cda87, _0x1f93d7) {
  _0x3cda87 = _0x3cda87 - 0x9f;
  var _0x3c208c = _0x3c20[_0x3cda87];
  return _0x3c208c;
};
var _0x3bf18f = _0x4ee3
  , _0x20e2fe = function () {
    var _0x2f241a = !![];
    return function (_0x4bb0d9, _0x9d9aa0) {
      var _0xa06ea9 = _0x2f241a ? function () {
        if (_0x9d9aa0) {
          var _0x2cb06a = _0x9d9aa0['apply'](_0x4bb0d9, arguments);
          return _0x9d9aa0 = null,
            _0x2cb06a;
        }
      }
        : function () { }
        ;
      return _0x2f241a = ![],
        _0xa06ea9;
    }
      ;
  }();
(function () {
  _0x20e2fe(this, function () {
    var _0x6f138e = _0x4ee3
      , _0x4a4432 = new RegExp(_0x6f138e(0x14e))
      , _0x5198cc = new RegExp('\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)', 'i')
      , _0x2582b0 = _0x5e537c(_0x6f138e(0xf7));
    !_0x4a4432[_0x6f138e(0x115)](_0x2582b0 + _0x6f138e(0xf0)) || !_0x5198cc['test'](_0x2582b0 + _0x6f138e(0xaf)) ? _0x2582b0('0') : _0x5e537c();
  })();
}());
var _0x12c7ac = function () {
  var _0x4baf04 = !![];
  return function (_0xb7e20c, _0x4936b7) {
    var _0x1e40cd = _0x4baf04 ? function () {
      var _0x7c6aa0 = _0x4ee3;
      if (_0x4936b7) {
        var _0x2b430c = _0x4936b7[_0x7c6aa0(0xfa)](_0xb7e20c, arguments);
        return _0x4936b7 = null,
          _0x2b430c;
      }
    }
      : function () { }
      ;
    return _0x4baf04 = ![],
      _0x1e40cd;
  }
    ;
}()
  , _0x5edf1f = _0x12c7ac(this, function () {
    var _0x13676a = _0x4ee3
      , _0x424818 = function () {
        var _0x34f8d1 = _0x4ee3, _0x50cf8f;
        try {
          _0x50cf8f = Function(_0x34f8d1(0xa5) + _0x34f8d1(0x160) + ');')();
        } catch (_0x1eea82) {
          _0x50cf8f = window;
        }
        return _0x50cf8f;
      }
      , _0x2daa79 = _0x424818()
      , _0x2f648e = _0x2daa79[_0x13676a(0x12c)] = _0x2daa79['console'] || {}
      , _0x3072b1 = ['log', _0x13676a(0xe7), 'info', _0x13676a(0x179), _0x13676a(0x11c), _0x13676a(0x126), _0x13676a(0xcb)];
    for (var _0x33ed4b = 0x0; _0x33ed4b < _0x3072b1[_0x13676a(0x164)]; _0x33ed4b++) {
      var _0x47f66e = _0x12c7ac[_0x13676a(0xa1)][_0x13676a(0x113)][_0x13676a(0x16b)](_0x12c7ac)
        , _0x29110a = _0x3072b1[_0x33ed4b]
        , _0x25ed1c = _0x2f648e[_0x29110a] || _0x47f66e;
      _0x47f66e[_0x13676a(0x130)] = _0x12c7ac[_0x13676a(0x16b)](_0x12c7ac),
        _0x47f66e['toString'] = _0x25ed1c[_0x13676a(0x134)][_0x13676a(0x16b)](_0x25ed1c),
        _0x2f648e[_0x29110a] = _0x47f66e;
    }
  });
_0x5edf1f();
let viewer, toolbar, layerList, setupMouseTracking, lastClickPosition, setLayout, format, showInfo, hideInfo, getTableRow, getMappedData, resizing, marker, lastMousePosition, layerNames, infoShowing = ![], $ = giscloud[_0x3bf18f(0x131)](), apiKey = _0x3bf18f(0xc9), mapId = _0x3bf18f(0xa4), fid = '', lid = '', field = '', value = '', viewerSelection = null, includeToolbar = ![], includeLayerList = ![], includeScalebar = ![], includeNumericScale = ![], useInfoPopups = ![], lockZoom = ![], bounds = new giscloud[(_0x3bf18f(0x14a))](), visibility = '', noattrib = ![], noctrl = ![], license = 'commercial', expressions = '', liveLocationX = null, liveLocationY = null, isLive = ![], liveInterval = null, selectedFeatureX = 0x0, selectedFeatureY = 0x0, elGraveInfoSidepanel = _0x3bf18f(0xef), elMenuSidepanel = _0x3bf18f(0x145), $btnShowOnMap = $(_0x3bf18f(0x10b)), $elGraveInfoImage = $(_0x3bf18f(0x13c)), $elGraveInfoTag = $('#oznaka'), $elGraveInfoOwner = $(_0x3bf18f(0xeb)), $elGraveInfoUser = $('#korisnik'), $elSearchResultList = $('#search-results-list'), $btnSearch = $(_0x3bf18f(0x171)), $elSearchBar = $(_0x3bf18f(0x15c)), $elMenuItem = $('.main-menu-items\x20button'), $btnLocateMe = $(_0x3bf18f(0xd7)), elOverlaySearch = _0x3bf18f(0xd9), elOverlayApp = _0x3bf18f(0x109), $elOverlaySpinner = $('.spinner-overlay'), $elOverlaySearch = $(elOverlaySearch), $elOverlayApp = $(elOverlayApp), $btnCloseSearch = $('#close-search'), $btnReport = $(_0x3bf18f(0x123)), $btnImpressum = $(_0x3bf18f(0xd8)), $btnTutorial = $(_0x3bf18f(0x16c)), $btnMenu = $(_0x3bf18f(0xa6)), $btnFaq = $(_0x3bf18f(0x149)), $btnBack = $(_0x3bf18f(0xc3)), $contactForm = $(_0x3bf18f(0x124)), $contactFormContainer = $(_0x3bf18f(0xc4)), formHtml = $contactFormContainer[_0x3bf18f(0xa7)](), $formWarning = $(_0x3bf18f(0x13f)), $btnContactFormSubmit = $(_0x3bf18f(0x161)), $imgOverlay = $(_0x3bf18f(0x11d)), startingGraveyardName = _0x3bf18f(0xfd), selectedGraveyardId = startingGraveyardName, selectedGraveyardName = startingGraveyardName, selectedFeatureId = null, previousSearchTerm = null, $btnNewReport = $(_0x3bf18f(0xc7)), reportModal = _0x3bf18f(0xa2), impressumModal = _0x3bf18f(0x16f), tutorialModal = _0x3bf18f(0x162), faqModal = '#faq-modal', pointGrave = null, graveLonLat = null, pointUser = null, userLonLat = null, locatorMultiplier = 0.2, activeState = null, activeStates = {
  'SEARCH_GRAVE_SELECTED': 0x0,
  'NAVIGATION_OPENED': 0x1,
  'SEARCH_LIST_POPULATED': 0x2,
  'GRAVE_INFO_OPENED': 0x3,
  'MODAL_REPORT_OPENED': 0x4,
  'MODAL_IMPRESSUM_OPENED': 0x5,
  'MODAL_TUTORIAL_OPENED': 0x6,
  'MODAL_FAQ_OPENED': 0x7
};
location[_0x3bf18f(0xba)] !== _0x3bf18f(0xfc) && location[_0x3bf18f(0x11e)]('https:' + location[_0x3bf18f(0xb5)]['substring'](location[_0x3bf18f(0xba)][_0x3bf18f(0x164)]));
$imgOverlay['addClass'](_0x3bf18f(0x125) + Math[_0x3bf18f(0x10c)](Math['random']() * (0x3 - 0x1 + 0x1) + 0x1));
function live(_0x25c4a9) {
  var _0x426484 = _0x3bf18f;
  isLive = _0x25c4a9;
  if (!isLive)
    clearInterval(liveInterval),
      console[_0x426484(0x108)]('iskljucen');
  else
    liveInterval == null ? (console[_0x426484(0x108)]('ukljucen'),
      liveInterval = setInterval(function () {
        live(!![]);
      }, 0xbb8),
      getLocation()) : (console[_0x426484(0x108)](_0x426484(0xdd)),
        getLocation());
}
$elSearchResultList['on'](_0x3bf18f(0x114), 'li', function () {
  var _0x268d08 = _0x3bf18f;
  $imgOverlay['hide'](),
    $elOverlaySearch['hide']();
  let _0x2bcf07 = $(this)[_0x268d08(0xde)]('id');
  var _0x4f9c23 = new giscloud[(_0x268d08(0xbe))]($(this)['data']('x'), $(this)[_0x268d08(0xde)]('y'));
  viewer[_0x268d08(0x13b)](_0x4f9c23, 0x16),
    selectedFeatureId !== null && selectedFeatureId === _0x2bcf07 ? UIkit['offcanvas'](elGraveInfoSidepanel)[_0x268d08(0xe9)]() : (drawGraveMarker(_0x4f9c23),
      _0x2bcf07 !== selectedFeatureId && viewerSelection[_0x268d08(0x118)](),
      viewer[_0x268d08(0xda)](0x35839f, _0x2bcf07, !![]),
      loadFeature(_0x2bcf07, 0x35839f)),
    changeState(activeStates[_0x268d08(0xdc)]),
    $btnBack['hide'](),
    $btnShowOnMap[_0x268d08(0xe9)]();
}),
  $btnNewReport['on'](_0x3bf18f(0x114), function () {
    var _0x57fd2d = _0x3bf18f;
    $contactFormContainer[_0x57fd2d(0xa7)](formHtml),
      $btnNewReport[_0x57fd2d(0xf4)]();
  }),
  $btnSearch['on'](_0x3bf18f(0x114), function () {
    search();
  }),
  $btnCloseSearch['on'](_0x3bf18f(0x114), function () {
    var _0x37f132 = _0x3bf18f;
    $elOverlaySearch[_0x37f132(0xf4)](),
      changeState(null);
  }),
  $elMenuItem['on'](_0x3bf18f(0x114), function () {
    var _0x47b89f = _0x3bf18f;
    $imgOverlay['hide'](),
      UIkit[_0x47b89f(0xc1)](elMenuSidepanel)[_0x47b89f(0xf4)](),
      $elMenuItem[_0x47b89f(0xfe)]('selected'),
      $(this)[_0x47b89f(0x168)](_0x47b89f(0x178)),
      selectedGraveyardId = $(this)[_0x47b89f(0xde)]('id'),
      selectedGraveyardName = $(this)['text'](),
      $elOverlaySearch[_0x47b89f(0xf4)](),
      $elSearchBar[_0x47b89f(0xea)](_0x47b89f(0x9f), 'Pretraži\x20' + selectedGraveyardName + _0x47b89f(0xec)),
      centerGraveyardByName(selectedGraveyardId);
  }),
  $btnShowOnMap['on'](_0x3bf18f(0x114), function () {
    var _0x3bad0c = _0x3bf18f;
    UIkit[_0x3bad0c(0xc1)](elGraveInfoSidepanel)[_0x3bad0c(0xf4)]();
  }),
  $btnLocateMe['on'](_0x3bf18f(0x114), function () {
    var _0x572806 = _0x3bf18f;
    $imgOverlay[_0x572806(0xf4)]();
    if (autoLocation) {
      dislocate();
    } else {
      locate();
    }
  }),
  $btnReport['on']('click', function () {
    var _0x345d4c = _0x3bf18f;
    UIkit[_0x345d4c(0x14d)](reportModal)['show'](),
      $(_0x345d4c(0xa8))[_0x345d4c(0xe8)]($(_0x345d4c(0x11f))[_0x345d4c(0x147)]() + _0x345d4c(0xbb) + selectedGraveyardName);
  }),
  $elSearchBar[_0x3bf18f(0x163)](function (_0x16d522) {
    var _0x33999b = _0x3bf18f;
    if (_0x16d522[_0x33999b(0x14c)] === 0xd)
      return search(),
        ![];
  }),
  $btnBack['on'](_0x3bf18f(0x114), function () {
    var _0x244c23 = _0x3bf18f;
    UIkit['offcanvas'](elGraveInfoSidepanel)[_0x244c23(0xf4)]();
  }),
  $btnMenu['on']('click', function () {
    var _0x37bf4d = _0x3bf18f;
    UIkit[_0x37bf4d(0xc1)](elMenuSidepanel)[_0x37bf4d(0xe9)]();
  }),
  $btnImpressum['on']('click', function () {
    var _0xec012e = _0x3bf18f;
    UIkit[_0xec012e(0x14d)](impressumModal)[_0xec012e(0xe9)]();
  }),
  $btnTutorial['on']('click', function () {
    var _0xb38962 = _0x3bf18f;
    UIkit[_0xb38962(0x14d)](tutorialModal)[_0xb38962(0xe9)]();
  }),
  $btnFaq['on'](_0x3bf18f(0x114), function () {
    var _0x32d4c7 = _0x3bf18f;
    UIkit[_0x32d4c7(0x14d)](faqModal)[_0x32d4c7(0xe9)]();
  }),
  UIkit[_0x3bf18f(0xe0)]['on'](elMenuSidepanel, _0x3bf18f(0xe9), function () {
    var _0x2640f4 = _0x3bf18f;
    $elOverlayApp[_0x2640f4(0xe9)](),
      changeState(activeStates[_0x2640f4(0x146)]);
  }),
  UIkit[_0x3bf18f(0xe0)]['on'](elMenuSidepanel, _0x3bf18f(0xf4), function () {
    var _0x244900 = _0x3bf18f;
    $elOverlayApp[_0x244900(0xf4)](),
      changeState(null);
  }),
  UIkit[_0x3bf18f(0xe0)]['on'](elGraveInfoSidepanel, _0x3bf18f(0xe9), function () {
    var _0x2e1788 = _0x3bf18f;
    $elOverlayApp[_0x2e1788(0xe9)](),
      changeState(activeStates[_0x2e1788(0x11a)]);
  }),
  UIkit[_0x3bf18f(0xe0)]['on'](elOverlaySearch, _0x3bf18f(0xe9), function () {
    var _0x1b179a = _0x3bf18f;
    changeState(activeStates[_0x1b179a(0x174)]);
  }),
  UIkit[_0x3bf18f(0xe0)]['on'](elGraveInfoSidepanel, _0x3bf18f(0xf4), function () {
    var _0x548756 = _0x3bf18f;
    $elOverlayApp[_0x548756(0xf4)](),
      changeState(null);
  }),
  UIkit[_0x3bf18f(0xe0)]['on'](reportModal, _0x3bf18f(0xe9), function () {
    var _0x1c29d7 = _0x3bf18f;
    changeState(activeStates[_0x1c29d7(0x173)]);
  }),
  UIkit[_0x3bf18f(0xe0)]['on'](impressumModal, _0x3bf18f(0xe9), function () {
    var _0x57e8ff = _0x3bf18f;
    changeState(activeStates[_0x57e8ff(0xd5)]);
  }),
  UIkit[_0x3bf18f(0xe0)]['on'](tutorialModal, _0x3bf18f(0xe9), function () {
    var _0xa5c8b2 = _0x3bf18f;
    changeState(activeStates[_0xa5c8b2(0x151)]);
  }),
  UIkit[_0x3bf18f(0xe0)]['on'](faqModal, _0x3bf18f(0xe9), function () {
    var _0x37cc4b = _0x3bf18f;
    changeState(activeStates[_0x37cc4b(0xbc)]);
  }),
  UIkit[_0x3bf18f(0xe0)]['on'](reportModal, _0x3bf18f(0xf4), function () {
    changeState(null);
  }),
  UIkit[_0x3bf18f(0xe0)]['on'](impressumModal, _0x3bf18f(0xf4), function () {
    changeState(null);
  }),
  UIkit[_0x3bf18f(0xe0)]['on'](tutorialModal, _0x3bf18f(0xf4), function () {
    changeState(null);
  }),
  UIkit[_0x3bf18f(0xe0)]['on'](faqModal, 'hide', function () {
    changeState(null);
  }),
  $(document)[_0x3bf18f(0xb4)](function () {
    var _0x2211d0 = _0x3bf18f;
    $elSearchBar['attr']('placeholder', 'Pretraži\x20' + startingGraveyardName + _0x2211d0(0xec));
  }),
  window['onbeforeunload'] = function (_0x4898ad) {
    var _0x494ec2 = _0x3bf18f;
    return _0x494ec2(0x153);
  }
  ,
  window[_0x3bf18f(0xb0)]('popstate', function (_0x39b5ff) {
    var _0x3d4ab3 = _0x3bf18f;
    if (activeState === null)
      history['back']();
    else {
      if (activeState === activeStates[_0x3d4ab3(0x146)])
        UIkit[_0x3d4ab3(0xc1)](elMenuSidepanel)[_0x3d4ab3(0xf4)]();
      else {
        if (activeState === activeStates[_0x3d4ab3(0x11a)])
          UIkit[_0x3d4ab3(0xc1)](elGraveInfoSidepanel)[_0x3d4ab3(0xf4)]();
        else {
          if (activeState === activeStates[_0x3d4ab3(0x173)])
            UIkit['modal'](reportModal)[_0x3d4ab3(0xf4)]();
          else {
            if (activeState === activeStates[_0x3d4ab3(0xd5)])
              UIkit[_0x3d4ab3(0x14d)](impressumModal)[_0x3d4ab3(0xf4)]();
            else {
              if (activeState === activeStates[_0x3d4ab3(0x151)])
                UIkit['modal'](tutorialModal)[_0x3d4ab3(0xf4)]();
              else {
                if (activeState === activeStates[_0x3d4ab3(0xbc)])
                  UIkit[_0x3d4ab3(0x14d)](faqModal)[_0x3d4ab3(0xf4)]();
                else {
                  if (activeState === activeStates[_0x3d4ab3(0x174)])
                    $elOverlaySearch['hide'](),
                      changeState(null);
                  else
                    activeState === activeStates[_0x3d4ab3(0xdc)] && ($elOverlaySearch['show'](),
                      changeState(activeStates[_0x3d4ab3(0x174)]));
                }
              }
            }
          }
        }
      }
    }
  });
function changeState(_0x548367) {
  var _0x38d19b = _0x3bf18f;
  history[_0x38d19b(0x15b)]({}, ''),
    activeState = _0x548367;
}
giscloud['ready'](function () {
  var _0x2e6946 = _0x3bf18f;
  viewer = new giscloud[(_0x2e6946(0xf1))](_0x2e6946(0x12a), mapId, {
    'slider': ![]
  }),
    viewerSelection = new giscloud[(_0x2e6946(0x15a))](viewer),
    giscloud[_0x2e6946(0xc6)](_0x2e6946(0xc9)),
    toolbar = new giscloud['ui']['Toolbar']({
      'viewer': viewer,
      'container': 'toolbar',
      'defaultTools': [_0x2e6946(0x100), _0x2e6946(0xe2)]
    }),
    viewer[_0x2e6946(0x157)](function (_0x4b6cd8) {
      var _0x44d336 = _0x2e6946;
      loadFeature(_0x4b6cd8[_0x44d336(0xe4)], _0x4b6cd8['layerId']);
    }),
    viewer[_0x2e6946(0xb4)](function () {
      var _0x5f47be = _0x2e6946;
      toolbar[_0x5f47be(0x150)]['select'][_0x5f47be(0x167)]();
    }),
    giscloud[_0x2e6946(0xd3)]['byId'](0x35839f, function (_0x363c41) {
      var _0x59a360 = _0x2e6946;
      getTime(_0x363c41[_0x59a360(0xca)]);
    }),
    hideSpinner(),
    centerGraveyardByName(startingGraveyardName);
});
function loadFeature(_0x39185f, _0x26a671) {
  var _0xb8f226 = _0x3bf18f;
  showSpinner(),
    _0x39185f !== selectedFeatureId && viewerSelection[_0xb8f226(0x166)](selectedFeatureId, _0x26a671),
    selectedFeatureId = _0x39185f,
    giscloud['features'][_0xb8f226(0xae)](_0x26a671, _0x39185f)[_0xb8f226(0x10f)](loadSelectedFeatureData),
    viewerSelection[_0xb8f226(0x158)](),
    $btnBack[_0xb8f226(0xe9)](),
    $btnShowOnMap[_0xb8f226(0xf4)]();
}
$contactForm['on']('submit', function (_0x19823d) {
  var _0x744b80 = _0x3bf18f;
  _0x19823d[_0x744b80(0xdf)](),
    $btnContactFormSubmit['html']('<div\x20uk-spinner=\x22ratio:\x200.5\x22></div>');
  var _0x1c6d55 = $(_0x744b80(0x11b))[_0x744b80(0xe8)]()
    , _0x512bde = $(_0x744b80(0x12f))[_0x744b80(0xe8)]()
    , _0x3c5cb2 = $(_0x744b80(0xa8))[_0x744b80(0xe8)]()
    , _0x3d6ea5 = $('#form-message')[_0x744b80(0xe8)]()
    , _0x2154c6 = $(_0x744b80(0xf6))['is'](_0x744b80(0xa3));
  if (_0x1c6d55 === '' || _0x512bde === '' || _0x3d6ea5 === '')
    $formWarning[_0x744b80(0xcd)](_0x744b80(0x154))['html'](_0x744b80(0x143));
  else
    !_0x2154c6 ? $formWarning[_0x744b80(0xcd)](_0x744b80(0x154))[_0x744b80(0xa7)]('Za\x20prijavu\x20pogrešnog\x20podatka\x20morate\x20prihvatiti\x20privolu!') : ($formWarning['hide'](),
      $['ajax']({
        'type': _0x744b80(0x139),
        'url': _0x744b80(0x135),
        'data': {
          'name': _0x1c6d55,
          'email': _0x512bde,
          'id': _0x3c5cb2,
          'message': _0x3d6ea5,
          'captcha': grecaptcha[_0x744b80(0xab)]()
        },
        'success': function (_0x1e4884) {
          var _0x48bfbb = _0x744b80;
          let _0x47d079 = _0x48bfbb(0x10e) + _0x48bfbb(0xe3) + _0x48bfbb(0xad) + _0x1e4884 + _0x48bfbb(0x17a) + _0x48bfbb(0x177);
          $contactFormContainer[_0x48bfbb(0xa7)](_0x47d079);
        },
        'error': function () {
          var _0x2ca0ee = _0x744b80;
          $formWarning[_0x2ca0ee(0xcd)](_0x2ca0ee(0x154))[_0x2ca0ee(0xa7)](_0x2ca0ee(0x15e)),
            $formWarning[_0x2ca0ee(0xe9)]();
        },
        'complete': function () {
          var _0x290cbf = _0x744b80;
          $btnContactFormSubmit[_0x290cbf(0xa7)]('Pošalji');
        }
      }));
});
function recaptchaCallback() {
  var _0x5e7c8b = _0x3bf18f;
  $btnContactFormSubmit[_0x5e7c8b(0x13d)]('disabled');
}
var x = document[_0x3bf18f(0x12d)](_0x3bf18f(0xb8));
for (var i = 0x0; i < x[_0x3bf18f(0x164)]; i++) {
  x[i][_0x3bf18f(0x10d)] = new Date()[_0x3bf18f(0xee)]();
}
function loadSelectedFeatureData(_0xbb5beb) {
  showGraveInfo(_0xbb5beb);
}
function search() {
  var _0x14293b = _0x3bf18f;
  let _0x35b416 = $elSearchBar[_0x14293b(0xe8)]();
  !isOverlayVisible($elOverlaySearch) && $elOverlaySearch[_0x14293b(0xe9)]();
  if (_0x35b416 !== previousSearchTerm) {
    showSpinner(),
      $elSearchResultList[_0x14293b(0xc8)](),
      previousSearchTerm = _0x35b416;
    if (_0x35b416 !== '') {
      if (_0x35b416[_0x14293b(0xcc)]('\x20')) {
        let _0x3a7c87 = _0x35b416;
        _0x35b416 = _0x35b416[_0x14293b(0x10a)]('\x20');
        let _0x47683b = _0x35b416[0x1] + '\x20' + _0x35b416[0x0];
        _0x35b416 = _0x14293b(0x165) + _0x3a7c87[_0x14293b(0xb2)]() + _0x14293b(0xf2) + _0x47683b[_0x14293b(0xb2)]() + _0x14293b(0xd1);
      } else
        _0x35b416 = _0x14293b(0x169) + _0x35b416[_0x14293b(0xb2)]() + '%\x27';
      $elOverlaySearch[_0x14293b(0xe9)](),
        changeState(activeStates[_0x14293b(0x174)]),
        giscloud['features'][_0x14293b(0xff)](0x35839f, {
          'where': _0x35b416 + _0x14293b(0xa0) + selectedGraveyardId + '\x27',
          'geometry': _0x14293b(0x152)
        })['done'](function (_0x42af2d) {
          hideSpinner(),
            loadSearchResultsToList(_0x42af2d);
        });
    }
  }
}
function loadSearchResultsToList(_0x1cc727) {
  var _0x31c1e2 = _0x3bf18f;
  _0x1cc727['length'] ? $(_0x1cc727)[_0x31c1e2(0x103)](function (_0x1eaa24, _0xbb57be) {
    var _0x20f4cd = _0x31c1e2;
    let _0x267d4f = new giscloud[(_0x20f4cd(0x14a))](_0xbb57be[_0x20f4cd(0x128)][_0x20f4cd(0xf8)], _0xbb57be['bounds'][_0x20f4cd(0xa9)], _0xbb57be[_0x20f4cd(0x128)][_0x20f4cd(0xb9)], _0xbb57be[_0x20f4cd(0x128)][_0x20f4cd(0x12e)])
      , _0x338cd9 = _0x267d4f[_0x20f4cd(0x13b)]();
    $elSearchResultList[_0x20f4cd(0xb3)](_0x20f4cd(0x132) + _0xbb57be['id'] + _0x20f4cd(0xf9) + _0x338cd9[_0x20f4cd(0x175)] + _0x20f4cd(0x13a) + _0x338cd9[_0x20f4cd(0x16d)] + '\x22>' + _0xbb57be[_0x20f4cd(0xde)][_0x20f4cd(0xf5)] + _0x20f4cd(0x101) + selectedGraveyardName + _0x20f4cd(0xb1));
  }) : ($elSearchResultList[_0x31c1e2(0xb3)](_0x31c1e2(0x129)),
    $elSearchResultList[_0x31c1e2(0xb3)](_0x31c1e2(0x176) + _0x31c1e2(0x104)));
}
function isOverlayVisible(_0x5bc9e2) {
  var _0xc2ed61 = _0x3bf18f;
  let _0xa855b = _0x5bc9e2[_0xc2ed61(0xea)](_0xc2ed61(0x107));
  return typeof _0xa855b !== typeof undefined && _0xa855b !== ![];
}
function centerGraveyardByName(_0x3ae852) {
  var _0xc10867 = _0x3bf18f;
  showSpinner();
  let _0x2e5811 = 0x14;
  giscloud[_0xc10867(0x138)][_0xc10867(0xff)](0x35839f, {
    'where': _0xc10867(0x15d) + _0x3ae852 + '\x27',
    'geometry': 'wkt'
  })[_0xc10867(0x10f)](function (_0x4a3160) {
    var _0xd5dd03 = _0xc10867;
    let _0x3908b0 = new giscloud[(_0xd5dd03(0x14a))](_0x4a3160[0x0][_0xd5dd03(0x128)][_0xd5dd03(0xf8)], _0x4a3160[0x0][_0xd5dd03(0x128)]['bottom'], _0x4a3160[0x0][_0xd5dd03(0x128)][_0xd5dd03(0xb9)], _0x4a3160[0x0]['bounds']['top'])
      , _0x4f3925 = _0x3908b0[_0xd5dd03(0x13b)]();
    viewer[_0xd5dd03(0x13b)](_0x4f3925, _0x2e5811),
      hideSpinner();
  });
}
function showGraveInfo(_0x435d85) {
  var _0x427d33 = _0x3bf18f;
  hideSpinner(),
    UIkit[_0x427d33(0xc1)](elGraveInfoSidepanel)[_0x427d33(0xe9)](),
    $elGraveInfoImage['html'](_0x427d33(0x156) + '\x20\x20\x20\x20\x20\x20\x20\x20<a\x20class=\x22uk-inline\x22\x20href=\x22slike/blank.jpg\x22>' + _0x427d33(0xd0) + _0x427d33(0x14f) + _0x427d33(0x121)),
    $elGraveInfoTag[_0x427d33(0xa7)](_0x435d85[_0x427d33(0xde)][_0x427d33(0x137)]),
    $elGraveInfoOwner[_0x427d33(0xa7)](_0x435d85['data']['ukopani'][_0x427d33(0x11e)](/\|/g, _0x427d33(0xc0)));
}
function locate() {
  var _0x168854 = _0x3bf18f;
  if (navigator[_0x168854(0x120)] == null)
    return UIkit['notification']({
      'message': 'Uključite\x20GPS\x20lociranje\x20na\x20vašem\x20uređaju\x20za\x20bolje\x20rezultate\x20...',
      'pos': _0x168854(0x122)
    }),
      this;
  if (!autoLocation) {
    showSpinner();
  }
  var _0x4a4e17 = {
    'enableHighAccuracy': !![],
    'timeout': 0x2710,
    'maximumAge': 0x4e20
  }
    , _0xe98160 = function (_0x592dec) {
      var _0x48c531 = _0x168854;
      if (_0x592dec) {
        switch (_0x592dec['code']) {
          case 0x1:
            console[_0x48c531(0x108)](_0x48c531(0x111));
            break;
          case 0x2:
            console[_0x48c531(0x108)]('No\x20geolocation\x20available.');
            break;
          case 0x3:
            console[_0x48c531(0x108)](_0x48c531(0x15f));
            break;
          default:
            console['log'](_0x48c531(0xdb) + (_0x592dec[_0x48c531(0xf3)] || '?') + ').');
        }
        _0x592dec[_0x48c531(0x14b)] && console[_0x48c531(0x108)](_0x592dec[_0x48c531(0x14b)]);
      } else
        console[_0x48c531(0x108)](_0x48c531(0xd4));
    }
    , _0x46decd = function (_0x50e094) {
      var _0x1d4c26 = _0x168854, _0x25dc05 = new Proj4js[(_0x1d4c26(0x16a))](_0x50e094[_0x1d4c26(0x159)]['longitude'], _0x50e094['coords'][_0x1d4c26(0x127)]), _0x5c81e7 = Math[_0x1d4c26(0xe6)](_0x50e094[_0x1d4c26(0x159)][_0x1d4c26(0x13e)], 0x46), _0xd025b9 = viewer[_0x1d4c26(0x128)](), _0x2b032f, _0x216723, _0xd9442f, _0x1ae391 = window[_0x1d4c26(0x142)][_0x1d4c26(0xfb)], _0x199b91 = _0x1ae391[_0x1d4c26(0xc2)](_0x1d4c26(0xc5));
      typeof viewer[_0x1d4c26(0x112)] === _0x1d4c26(0xac) && (Proj4js[_0x1d4c26(0x133)][_0x1d4c26(0xe1)] = viewer[_0x1d4c26(0x112)],
        viewer[_0x1d4c26(0x112)] = new Proj4js[(_0x1d4c26(0x172))](_0x1d4c26(0xe1)));
      Proj4js[_0x1d4c26(0x12b)](Proj4js[_0x1d4c26(0x105)], viewer['projection'], _0x25dc05);
      if (_0x199b91 > 0x0)
        return viewer['center'](new giscloud[(_0x1d4c26(0xbe))](_0x25dc05['x'], _0x25dc05['y']), 0xb);
      if (!_0x5c81e7)
        return viewer[_0x1d4c26(0x13b)](new giscloud[(_0x1d4c26(0xbe))](_0x25dc05['x'], _0x25dc05['y']));
      _0xd025b9['center'](new giscloud[(_0x1d4c26(0xbe))](_0x25dc05['x'], _0x25dc05['y']), 0x14);
      viewer['projection'][_0x1d4c26(0x141)] === _0x1d4c26(0xed) ? (viewer['projection']['a'] && (viewer[_0x1d4c26(0x112)]['b'] ? _0x216723 = (viewer[_0x1d4c26(0x112)]['a'] + viewer['projection']['b']) / 0x2 : _0x216723 = viewer[_0x1d4c26(0x112)]['a']),
        _0x2b032f = haversine(_0xd025b9['top'], _0xd025b9['left'], _0xd025b9[_0x1d4c26(0xa9)], _0xd025b9[_0x1d4c26(0xb9)], _0x216723),
        _0xd9442f = _0x2b032f / 0x2 / _0x5c81e7,
        _0x5c81e7 = Math[_0x1d4c26(0xe6)](_0xd025b9[_0x1d4c26(0x117)](), _0xd025b9['height']()) / _0xd9442f) : _0x5c81e7 = giscloud['fromMeters'](viewer['projection']['units'], _0x5c81e7);
      _0xd025b9[_0x1d4c26(0x117)]() > _0xd025b9['height']() ? _0xd025b9[_0x1d4c26(0x102)](_0x5c81e7 * locatorMultiplier, !![]) : _0xd025b9[_0x1d4c26(0x117)](_0x5c81e7 * locatorMultiplier, !![]);
      drawUserMarker(new giscloud['LonLat'](_0x25dc05['x'], _0x25dc05['y']));
      if (graveLonLat != null) {
        var _0xb8a9db = new giscloud[(_0x1d4c26(0x14a))](userLonLat[_0x1d4c26(0x175)], userLonLat[_0x1d4c26(0x16d)], graveLonLat[_0x1d4c26(0x175)], graveLonLat[_0x1d4c26(0x16d)]);
        viewer[_0x1d4c26(0x128)](_0xb8a9db),
          viewer[_0x1d4c26(0xd2)](0x12);
      } else
        viewer[_0x1d4c26(0x128)](_0xd025b9);
      hideSpinner();
      if (!autoLocation && !idLocation) {
        idLocation = navigator.geolocation.watchPosition(success, error, options);
        addGreenButton();
      }
      autoLocation = true;
    };
  navigator[_0x168854(0x120)][_0x168854(0xb6)](_0x46decd, _0xe98160, _0x4a4e17);
}
function showSpinner() {
  var _0x1daca9 = _0x3bf18f;
  !$elOverlaySpinner['is'](_0x1daca9(0xcf)) && $elOverlaySpinner[_0x1daca9(0xe9)]();
}
function hideSpinner() {
  $elOverlaySpinner['is'](':visible') && $elOverlaySpinner['hide']();
}
function getTime(_0x5574b5) {
  var _0x44235d = _0x3bf18f;
  let _0x463f94 = new Date(_0x5574b5);
  $(_0x44235d(0x106))['text'](_0x463f94[_0x44235d(0x110)](_0x44235d(0x136)));
}
function createMarker(_0x205db5, _0x82c365) {
  var _0xb5e8ca = _0x3bf18f
    , _0x479af4 = {
      'color': _0x205db5,
      'fill': _0x205db5,
      'size': 0x14,
      'border': 0x1,
      'shape': _0xb5e8ca(0xaa)
    }
    , _0x30a5a6 = new giscloud[(_0xb5e8ca(0xbd))](_0x479af4)
    , _0x2f80f8 = new giscloud[(_0xb5e8ca(0xd6))][(_0xb5e8ca(0x16a))](_0x82c365[_0xb5e8ca(0x175)], _0x82c365[_0xb5e8ca(0x16d)]);
  return new giscloud['GraphicFeature'](_0x2f80f8, _0x30a5a6);
}
function drawGraveMarker(_0x34f8d0) {
  var _0x3bec49 = _0x3bf18f;
  viewer[_0x3bec49(0x144)]['remove'](pointGrave),
    pointGrave = createMarker(new giscloud[(_0x3bec49(0x116))](0xff, 0x0, 0x0, 0x64), _0x34f8d0),
    graveLonLat = _0x34f8d0,
    viewer['graphic'][_0x3bec49(0x119)](pointGrave);
}
function drawUserMarker(_0x5c02d0) {
  var _0x248a24 = _0x3bf18f;
  viewer[_0x248a24(0x144)][_0x248a24(0x166)](pointUser),
    pointUser = createMarker(new giscloud[(_0x248a24(0x116))](0xff, 0xff, 0x0, 0x64), _0x5c02d0),
    userLonLat = _0x5c02d0,
    viewer[_0x248a24(0x144)][_0x248a24(0x119)](pointUser);
}
function navigate() {
  var _0x26e6d1 = _0x3bf18f
    , _0x1abf33 = new giscloud[(_0x26e6d1(0x14a))](userLonLat[_0x26e6d1(0x175)], userLonLat['lat'], graveLonLat[_0x26e6d1(0x175)], graveLonLat[_0x26e6d1(0x16d)]);
  viewer[_0x26e6d1(0x128)](_0x1abf33);
}
function getDistanceFromLatLonInKm(_0xbaf366, _0x3ab399, _0x44b166, _0x381b9d) {
  var _0x3494e3 = _0x3bf18f
    , _0x3850ed = 0x18e3
    , _0x283fd9 = deg2rad(_0x44b166 - _0xbaf366)
    , _0x3f6492 = deg2rad(_0x381b9d - _0x3ab399)
    , _0x28407d = Math['sin'](_0x283fd9 / 0x2) * Math['sin'](_0x283fd9 / 0x2) + Math['cos'](deg2rad(_0xbaf366)) * Math[_0x3494e3(0x155)](deg2rad(_0x44b166)) * Math[_0x3494e3(0xb7)](_0x3f6492 / 0x2) * Math[_0x3494e3(0xb7)](_0x3f6492 / 0x2)
    , _0xdb2421 = 0x2 * Math['atan2'](Math['sqrt'](_0x28407d), Math['sqrt'](0x1 - _0x28407d))
    , _0x23f0bc = _0x3850ed * _0xdb2421;
  return _0x23f0bc;
}
function deg2rad(_0x160569) {
  return _0x160569 * (Math['PI'] / 0xb4);
}
showSpinner();
function _0x5e537c(_0x25cb2c) {
  function _0x357c99(_0x22a0ac) {
    var _0x378d91 = _0x4ee3;
    if (typeof _0x22a0ac === _0x378d91(0xac))
      return function (_0x1fa699) { }
      [_0x378d91(0xa1)](_0x378d91(0x140))['apply'](_0x378d91(0x16e));
    else
      ('' + _0x22a0ac / _0x22a0ac)[_0x378d91(0x164)] !== 0x1 || _0x22a0ac % 0x14 === 0x0 ? function () {
        return !![];
      }
      [_0x378d91(0xa1)]('' + _0x378d91(0x170))[_0x378d91(0xbf)](_0x378d91(0xce)) : function () {
        return ![];
      }
      ['constructor'](_0x378d91(0x148) + _0x378d91(0x170))[_0x378d91(0xfa)](_0x378d91(0xe5));
    _0x357c99(++_0x22a0ac);
  }
  try {
    if (_0x25cb2c)
      return _0x357c99;
    else
      _0x357c99(0x0);
  } catch (_0x1b9c85) { }
}

function dislocate() {
  if (idLocation) {
    navigator.geolocation.clearWatch(idLocation);
    idLocation = null;
    autoLocation = false;
    removeGreenButton();
  }
}

function success(pos) {
  locate();
}

function addGreenButton() {
  $('.locateme-button').addClass('locate-me-green')
}
function removeGreenButton() {
  $('.locateme-button').removeClass('locate-me-green')
}


function error(err) {
  console.warn('ERROR(' + err.code + '): ' + err.message);
}

options = {
  enableHighAccuracy: true,
};